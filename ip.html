
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Protocolo IP &#8212; documentación de Wireshark - 1</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/estilos.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Protocolo DHCP" href="dhcp.html" />
    <link rel="prev" title="Trabajando con los paquetes capturados" href="filtrado.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="protocolo-ip">
<h1>Protocolo IP<a class="headerlink" href="#protocolo-ip" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="introduccion">
<h2>Introducción<a class="headerlink" href="#introduccion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El protocolo IP ofrece los mecanismos necesarios para transportar datagramas por una red.</p>
<p>IP es un protocolo de “lo mejor que se pueda”, por lo que no garantiza que este llegue a destino, trata a cada datagrama como una entidad independiente y no proporciona mecanismos para aumentar la fiabilidad, control de flujo ni secuenciamiento.</p>
<p>Las tablas de encaminamiento IP son tan simples, porque IP no necesita conocer la ruta completa que seguirá hasta el destino, sólo necesita conocer cual es el siguiente salto y enviar allí el datagrama.</p>
</div>
<div class="section" id="caracteristicas-de-ip">
<h2>Características de IP<a class="headerlink" href="#caracteristicas-de-ip" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Generalmente, un cambio en la topología de la red puede hacer que los datagramas se reencaminen automáticamente, ya que las entradas en la tabla de encaminamiento, cambian en función de las condiciones de la red, esto, le da flexibilidad y robustez a IP. Un datagrama, debe caber en una trama, por lo que el datagrama depende del tamaño máximo de la trama, y se denomina “Unidad Máxima de Transmisión” (MTU).</p>
<p>Un host origen, no conoce los limites de tamaño con el que se va a encontrar, por lo que si un datagrama es demasiado grande para algún enlace intermedio, IP, divide el datagrama en varios datagramas menores llamados fragmentos y es responsabilidad del protocolo IP del siguiente dispositivo, reconstruir el datagrama original.</p>
</div>
<div class="section" id="mecanismos-del-protocolo-ip">
<h2>Mecanismos del protocolo IP<a class="headerlink" href="#mecanismos-del-protocolo-ip" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La cabecera de un datagrama IP está formada por 5 o mas palabras de 32 bits, el tamaño máximo es de 15 palabras (60 octetos).</p>
<img alt="_images/cabecera-ip.png" class="align-center" src="_images/cabecera-ip.png" />
<p>Los campos mas importantes son los de <strong>IP origen</strong>, <strong>IP destino</strong> y <strong>protocolo</strong>, que permite que el datagrama se entregue al servicio correspondiente.</p>
<p>Si no hay opciones, el tamaño de la cabecera es de 20 octetos, si se incluye una o mas opciones, se puede necesitar rellenar la cabecera con ceros para que acabe en un múltiplo de palabras de 32 bits.</p>
<p>El campo <strong>Tamaño del datagrama</strong> mide el tamaño en octetos incluida cabecera y datos.</p>
<p>El campo <strong>Tipo de servicio</strong>, tiene 3 bits de precedencia, con las que se pueden obtener 8 niveles diferentes de precedencia y 4 bits para el tipo de servicio, que contiene la calidad del servicio, información que podría afectar a como se maneja un datagrama.</p>
<p>La mayoría de los routers, ignoran completamente el campo TOS, este campo, tendrá mayor protagonismo a futuro.</p>
<p>Cuando ocurre un cambio en la topología de red, algunos datagramas pueden estar circulando durante un período de tiempo, hasta que se elijan nuevas rutas. El campo <strong>Tiempo de vida</strong>, limita el tiempo que se permite a un datagrama permanecer en una red, cada router que maneja un datagrama, decrementa su valor en una unidad y cuando este valor lega a cero, el datagrama se descarta, informando al origen del descarte.</p>
<p>El valor por defecto para TTL es aproximadamente el doble del camino mas largo de la Internet, la longitud del camino más largo se llama diámetro.</p>
<p>El campo <strong>Suma de control</strong> se debe calcular en cada elemento donde el datagrama es procesado, ya que el campo TTL cambia en cada router.</p>
</div>
<div class="section" id="fragmentacion">
<h2>Fragmentación<a class="headerlink" href="#fragmentacion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los campos “Identificación, flags y desplazamiento” de fragemento, permiten que los datagramas se puedan fragmentar y reensamblar.</p>
<p>El primer paso, es comprobar si el flag “no fragmentar” está activado, en caso afirmativo y exista la necesidad de fragmentación, el datagrama será descartado, en caso negativo, los datos son divididos en trozos según la MTU del siguiente salto, cada trozo debe ser multiplo de 8 octetos.</p>
<p>Cada fragmento tendrá los mismos valores en los campos IP origen, IP destino, protocolo e identificación, sin embargo, hay asignar valores en los siguientes campos:</p>
<ul class="simple">
<li><p>Tamaño del datagrama fragmentado</p></li>
<li><p>El flag <strong>mas fragmentos</strong> debe activarse en todos los fragmentos excepto el último</p></li>
<li><p>El campo <strong>desplazamiento del fragmento</strong> indica la posición del fragmento en relación con el principio del datagrama original. La posición inicial es 0.</p></li>
<li><p>Hay que calcular sumas de control diferentes para cada uno de los fragmentos</p></li>
</ul>
<p>El campo identificación, permite al host destino, reconocer los fragmentos que pertenecen a un mismo datagrama.</p>
<p>Los datagramas fragmentados se reconstruyen en el host receptor, estos, pueden llegar desordenados. Cuando llega el primer fragmento, IP asigna memoria para el reensamblado del datagrama, pero el receptor no tiene forma de conocer el tamaño completo del datagrama hasta que llega el último fragmento. Aunque cada fabricante resuelve el problema, una implementación IP, debería ser capaz de manejar datagramas fragmentados cuyo tamaño total sea de un máximo del tamaño de la MTU de la interfaz por donde llegan.</p>
<p>El plazo de reensamblado tiene un valor recomendado entre 60 y 120 segundos, cuando expira este tiempo, el host receptor descarta los fragmentos y envía un mensaje de error al origen.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Wireshark</a></h1>








<h3>Navegación</h3>
<p class="caption"><span class="caption-text">Contenido:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduccion.html">Introducción a Wireshark</a></li>
<li class="toctree-l1"><a class="reference internal" href="filtrado.html">Trabajando con los paquetes capturados</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Protocolo IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="dhcp.html">Protocolo DHCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="arp.html">Protocolo ARP</a></li>
<li class="toctree-l1"><a class="reference internal" href="icmp.html">Protocolo ICMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcp.html">Protocolo TCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="sip.html">Protocolo SIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtp.html">Protocolo RTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyze.html">Menú Analyze</a></li>
<li class="toctree-l1"><a class="reference internal" href="estadisticas.html">Estadísticas en Wireshark</a></li>
</ul>
<p class="caption"><span class="caption-text">Laboratorios:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lab_interfaz.html">Laboratorios Configuración Introducción a Wireshark</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_filtrado.html">Laboratorios paquetes capturados</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_ip.html">Laboratorios arquitectura IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_tcp.html">Laboratorios protocolo TCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_analyze.html">Laboratorio Analyze</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_estadisticas.html">Laboratorios de estadísticas</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_voip.html">Laboratorios SIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_aplicaciones.html">Laboratorios Aplicaciones</a></li>
</ul>
<p class="caption"><span class="caption-text">Estudio:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="presentaciones.html">Presentaciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.html">Documentación</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="filtrado.html" title="capítulo anterior">Trabajando con los paquetes capturados</a></li>
      <li>Next: <a href="dhcp.html" title="próximo capítulo">Protocolo DHCP</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Ir a" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Kike G.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/ip.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>